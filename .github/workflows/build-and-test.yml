jobs:
  build-test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Detect BOM/UTF-16 signatures
        run: |
          echo "‚îå‚îÄ‚îÄ –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–µ—Ä–≤—ã–µ 3 –±–∞–π—Ç–∞ –≤–æ –≤—Å–µ—Ö .py/.md/.toml"
          for f in $(find . -type f \( -name '*.py' -o -name '*.md' -o -name '*.toml' \)); do
            sig=$(head -c3 "$f" | xxd -p -u)
            case "$sig" in
              efbbbf* ) echo "üí• BOM UTF-8   -> $f" ;;
              fffe*   ) echo "üí• BOM UTF-16LE-> $f" ;;
              fffe*   ) echo "üí• BOM UTF-16BE-> $f" ;;
            esac
          done
      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: ${{ matrix.python-version }}

      - name: Install dependencies
        run: pip install -e .[dev]
      # ‚Ä¶ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —à–∞–≥–∏
